const palettes = [{"name":"Twilight Chocolate","colors":[{"value":"#1b1b19","name":"Twilight Zone","rgb":{"r":0.10588235294117647,"g":0.10588235294117647,"b":0.09803921568627451},"hsl":{"s":0.03846153846153847,"l":0.10196078431372549,"h":60}},{"value":"#803e23","name":"Chocolate Covered","rgb":{"r":0.5019607843137255,"g":0.24313725490196078,"b":0.13725490196078433},"hsl":{"s":0.5705521472392638,"l":0.3196078431372549,"h":17.419354838709676}},{"value":"#ac6633","name":"Mai Tai","rgb":{"r":0.6745098039215687,"g":0.4,"b":0.2},"hsl":{"s":0.5426008968609866,"l":0.4372549019607843,"h":25.289256198347108}},{"value":"#ea9e52","name":"Pumpkin Pie","rgb":{"r":0.9176470588235294,"g":0.6196078431372549,"b":0.3215686274509804},"hsl":{"s":0.7835051546391751,"l":0.6196078431372549,"h":30.000000000000007}},{"value":"#f7eedf","name":"Birch White","rgb":{"r":0.9686274509803922,"g":0.9333333333333333,"b":0.8745098039215686},"hsl":{"s":0.6000000000000004,"l":0.9215686274509804,"h":37.50000000000001}},{"value":"#d7d3c8","name":"Soy Milk","rgb":{"r":0.8431372549019608,"g":0.8274509803921568,"b":0.7843137254901961},"hsl":{"s":0.15789473684210528,"l":0.8137254901960784,"h":43.99999999999995}},{"value":"#aacfc8","name":"Whirlpool","rgb":{"r":0.6666666666666666,"g":0.8117647058823529,"b":0.7843137254901961},"hsl":{"s":0.2781954887218046,"l":0.7392156862745098,"h":168.64864864864865}}]},{"name":"Gentle Sting","colors":[{"value":"#1b1b19","name":"Twilight Zone","rgb":{"r":0.10588235294117647,"g":0.10588235294117647,"b":0.09803921568627451},"hsl":{"s":0.03846153846153847,"l":0.10196078431372549,"h":60}},{"value":"#da704a","name":"Jelly Slug","rgb":{"r":0.8549019607843137,"g":0.4392156862745098,"b":0.2901960784313726},"hsl":{"s":0.6605504587155963,"l":0.5725490196078431,"h":15.83333333333333}},{"value":"#c8afbc","name":"Mauvelous","rgb":{"r":0.7843137254901961,"g":0.6862745098039216,"b":0.7372549019607844},"hsl":{"s":0.1851851851851852,"l":0.7352941176470589,"h":328.79999999999995}},{"value":"#f6cab4","name":"Bellini","rgb":{"r":0.9647058823529412,"g":0.792156862745098,"b":0.7058823529411765},"hsl":{"s":0.7857142857142858,"l":0.8352941176470589,"h":19.999999999999982}}]},{"name":"Lobster CafÃ©","colors":[{"value":"#312512","name":"Cola","rgb":{"r":0.19215686274509805,"g":0.1450980392156863,"b":0.07058823529411765},"hsl":{"s":0.4626865671641792,"l":0.13137254901960785,"h":36.774193548387096}},{"value":"#cd2d10","name":"Piment Piquant","rgb":{"r":0.803921568627451,"g":0.17647058823529413,"b":0.06274509803921569},"hsl":{"s":0.8552036199095022,"l":0.43333333333333335,"h":9.206349206349207}},{"value":"#d07e40","name":"Sweet Potato","rgb":{"r":0.8156862745098039,"g":0.49411764705882355,"b":0.25098039215686274},"hsl":{"s":0.6050420168067226,"l":0.5333333333333333,"h":25.833333333333336}},{"value":"#ce9464","name":"Whiskey Sour","rgb":{"r":0.807843137254902,"g":0.5803921568627451,"b":0.39215686274509803},"hsl":{"s":0.5196078431372549,"l":0.6,"h":27.169811320754725}},{"value":"#d6a786","name":"Lunatic Lynx","rgb":{"r":0.8392156862745098,"g":0.6549019607843137,"b":0.5254901960784314},"hsl":{"s":0.4938271604938272,"l":0.6823529411764706,"h":24.75}},{"value":"#e5c9b5","name":"Cashew Nut","rgb":{"r":0.8980392156862745,"g":0.788235294117647,"b":0.7098039215686275},"hsl":{"s":0.4800000000000001,"l":0.803921568627451,"h":24.999999999999982}},{"value":"#f7ebda","name":"Long Beach","rgb":{"r":0.9686274509803922,"g":0.9215686274509803,"b":0.8549019607843137},"hsl":{"s":0.6444444444444445,"l":0.9117647058823529,"h":35.17241379310342}}]},{"colors":[{"value":"#f2ebdf","name":"Creamy","rgb":{"r":0.9490196078431372,"g":0.9215686274509803,"b":0.8745098039215686},"hsl":{"s":0.4222222222222219,"l":0.9117647058823529,"h":37.89473684210524}},{"value":"#353130","name":"Night Rider","rgb":{"r":0.20784313725490197,"g":0.19215686274509805,"b":0.18823529411764706},"hsl":{"s":0.049504950495049535,"l":0.19803921568627453,"h":12.000000000000034}},{"value":"#2f72a6","name":"Muted Blue","rgb":{"r":0.1843137254901961,"g":0.4470588235294118,"b":0.6509803921568628},"hsl":{"s":0.5586854460093896,"l":0.4176470588235294,"h":206.218487394958}},{"value":"#4e90c0","name":"Magical Merlin","rgb":{"r":0.3058823529411765,"g":0.5647058823529412,"b":0.7529411764705882},"hsl":{"s":0.475,"l":0.5294117647058824,"h":205.26315789473685}},{"value":"#6ca6ce","name":"Acapulco Dive","rgb":{"r":0.4235294117647059,"g":0.6509803921568628,"b":0.807843137254902},"hsl":{"s":0.5000000000000001,"l":0.615686274509804,"h":204.48979591836735}},{"value":"#80b994","name":"Neptune Green","rgb":{"r":0.5019607843137255,"g":0.7254901960784313,"b":0.5803921568627451},"hsl":{"s":0.2893401015228427,"l":0.6137254901960785,"h":141.05263157894737}},{"value":"#55ab8c","name":"Electra","rgb":{"r":0.3333333333333333,"g":0.6705882352941176,"b":0.5490196078431373},"hsl":{"s":0.3385826771653543,"l":0.5019607843137255,"h":158.37209302325584}},{"value":"#f0b44c","name":"Golden Hour","rgb":{"r":0.9411764705882353,"g":0.7058823529411765,"b":0.2980392156862745},"hsl":{"s":0.845360824742268,"l":0.6196078431372549,"h":38.04878048780488}},{"value":"#dd8c40","name":"Golden Nugget","rgb":{"r":0.8666666666666667,"g":0.5490196078431373,"b":0.25098039215686274},"hsl":{"s":0.6977777777777778,"l":0.5588235294117647,"h":29.04458598726115}},{"value":"#e099a8","name":"Blush Bomb","rgb":{"r":0.8784313725490196,"g":0.6,"b":0.6588235294117647},"hsl":{"s":0.5338345864661656,"l":0.7392156862745098,"h":347.32394366197184}},{"value":"#d76f76","name":"Mexican Chile","rgb":{"r":0.8431372549019608,"g":0.43529411764705883,"b":0.4627450980392157},"hsl":{"s":0.5652173913043478,"l":0.6392156862745098,"h":355.96153846153845}},{"value":"#c35448","name":"Pomegranate","rgb":{"r":0.7647058823529411,"g":0.32941176470588235,"b":0.2823529411764706},"hsl":{"s":0.5061728395061726,"l":0.5235294117647058,"h":5.853658536585366}},{"value":"#947b98","name":"Muted Berry","rgb":{"r":0.5803921568627451,"g":0.4823529411764706,"b":0.596078431372549},"hsl":{"s":0.1234042553191489,"l":0.5392156862745098,"h":291.72413793103453}},{"value":"#786488","name":"Nymph's Delight","rgb":{"r":0.47058823529411764,"g":0.39215686274509803,"b":0.5333333333333333},"hsl":{"s":0.15254237288135591,"l":0.4627450980392157,"h":273.3333333333333}}],"name":"Acapulco Pomegranate"},{"colors":[{"value":"#29181e","name":"Black Cherry","rgb":{"r":0.1607843137254902,"g":0.09411764705882353,"b":0.11764705882352941},"hsl":{"s":0.2615384615384616,"l":0.12745098039215685,"h":338.82352941176475}},{"value":"#81695d","name":"Warrior","rgb":{"r":0.5058823529411764,"g":0.4117647058823529,"b":0.36470588235294116},"hsl":{"s":0.16216216216216214,"l":0.43529411764705883,"h":20}},{"value":"#ce7f50","name":"Brown Sugar Glaze","rgb":{"r":0.807843137254902,"g":0.4980392156862745,"b":0.3137254901960784},"hsl":{"s":0.5625,"l":0.5607843137254902,"h":22.38095238095238}},{"value":"#ebe1e2","name":"Homeopathic Rose","rgb":{"r":0.9215686274509803,"g":0.8823529411764706,"b":0.8862745098039215},"hsl":{"s":0.19999999999999965,"l":0.9019607843137254,"h":354}},{"value":"#d74f32","name":"Frozen Tomato","rgb":{"r":0.8431372549019608,"g":0.30980392156862746,"b":0.19607843137254902},"hsl":{"s":0.6734693877551021,"l":0.5196078431372549,"h":10.545454545454547}},{"value":"#3b2a54","name":"Midnight Pie","rgb":{"r":0.23137254901960785,"g":0.16470588235294117,"b":0.32941176470588235},"hsl":{"s":0.3333333333333333,"l":0.24705882352941178,"h":264.28571428571433}}],"name":"Warrior Pie"},{"colors":[{"value":"#f8ffad","name":"Yellow Chalk","rgb":{"r":0.9725490196078431,"g":1,"b":0.6784313725490196},"hsl":{"s":1,"l":0.8392156862745098,"h":65.1219512195122}},{"value":"#ffcf6e","name":"Banana Bread","rgb":{"r":1,"g":0.8117647058823529,"b":0.43137254901960786},"hsl":{"s":1,"l":0.7156862745098039,"h":40.13793103448276}},{"value":"#f49854","name":"Holland Tulip","rgb":{"r":0.9568627450980393,"g":0.596078431372549,"b":0.32941176470588235},"hsl":{"s":0.8791208791208792,"l":0.6431372549019608,"h":25.5}},{"value":"#c7aba1","name":"Sable Cloaked","rgb":{"r":0.7803921568627451,"g":0.6705882352941176,"b":0.6313725490196078},"hsl":{"s":0.2533333333333333,"l":0.7058823529411764,"h":15.789473684210511}},{"value":"#ecdfe3","name":"Homeopathic Rose","rgb":{"r":0.9254901960784314,"g":0.8745098039215686,"b":0.8901960784313725},"hsl":{"s":0.254901960784314,"l":0.9,"h":341.5384615384616}},{"value":"#b4a9ec","name":"Purple Illusion","rgb":{"r":0.7058823529411765,"g":0.6627450980392157,"b":0.9254901960784314},"hsl":{"s":0.6380952380952385,"l":0.7941176470588236,"h":249.85074626865674}},{"value":"#977cc7","name":"Petrified Purple","rgb":{"r":0.592156862745098,"g":0.48627450980392156,"b":0.7803921568627451},"hsl":{"s":0.40106951871657753,"l":0.6333333333333333,"h":261.6}},{"value":"#292222","name":"Velvet Black","rgb":{"r":0.1607843137254902,"g":0.13333333333333333,"b":0.13333333333333333},"hsl":{"s":0.09333333333333337,"l":0.14705882352941177,"h":0}}],"name":"Banana Tulip"},{"colors":[{"value":"#090909","name":"Raven","rgb":{"r":0.03529411764705882,"g":0.03529411764705882,"b":0.03529411764705882},"hsl":{"s":0,"l":0.03529411764705882}},{"value":"#f8f8f8","name":"Doctor","rgb":{"r":0.9725490196078431,"g":0.9725490196078431,"b":0.9725490196078431},"hsl":{"s":0,"l":0.9725490196078431}},{"value":"#71ee6b","name":"Herbivore","rgb":{"r":0.44313725490196076,"g":0.9333333333333333,"b":0.4196078431372549},"hsl":{"s":0.793939393939394,"l":0.6764705882352942,"h":117.25190839694658}},{"value":"#e541c7","name":"Mademoiselle Pink","rgb":{"r":0.8980392156862745,"g":0.2549019607843137,"b":0.7803921568627451},"hsl":{"s":0.7592592592592592,"l":0.5764705882352941,"h":310.9756097560975}}],"name":"Herbivore Pink"},{"colors":[{"value":"#1e1b22","name":"Back In Black","rgb":{"r":0.11764705882352941,"g":0.10588235294117647,"b":0.13333333333333333},"hsl":{"s":0.11475409836065571,"l":0.1196078431372549,"h":265.7142857142857}},{"value":"#f3aebd","name":"Ibis","rgb":{"r":0.9529411764705882,"g":0.6823529411764706,"b":0.7411764705882353},"hsl":{"s":0.7419354838709674,"l":0.8176470588235294,"h":346.95652173913044}},{"value":"#fdf4da","name":"Hot Beach","rgb":{"r":0.9921568627450981,"g":0.9568627450980393,"b":0.8549019607843137},"hsl":{"s":0.8974358974358985,"l":0.9235294117647059,"h":44.571428571428584}},{"value":"#ffffff","name":"White","rgb":{"r":1,"g":1,"b":1},"hsl":{"s":0,"l":1}},{"value":"#abfcf8","name":"Frostbite","rgb":{"r":0.6705882352941176,"g":0.9882352941176471,"b":0.9725490196078431},"hsl":{"s":0.9310344827586207,"l":0.8294117647058823,"h":177.037037037037}},{"value":"#b9fdd6","name":"Mintastic","rgb":{"r":0.7254901960784313,"g":0.9921568627450981,"b":0.8392156862745098},"hsl":{"s":0.944444444444445,"l":0.8588235294117648,"h":145.58823529411765}}],"name":"Ibis Mintastic"},{"colors":[{"value":"#0f1910","name":"Cosmic Bit Flip","rgb":{"r":0.058823529411764705,"g":0.09803921568627451,"b":0.06274509803921569},"hsl":{"s":0.25,"l":0.0784313725490196,"h":126}},{"value":"#615829","name":"Reptile Revenge","rgb":{"r":0.3803921568627451,"g":0.34509803921568627,"b":0.1607843137254902},"hsl":{"s":0.40579710144927533,"l":0.27058823529411763,"h":50.35714285714286}},{"value":"#af8e4f","name":"Teak","rgb":{"r":0.6862745098039216,"g":0.5568627450980392,"b":0.30980392156862746},"hsl":{"s":0.3779527559055118,"l":0.4980392156862745,"h":39.375}},{"value":"#e39e90","name":"Pink Palazzo","rgb":{"r":0.8901960784313725,"g":0.6196078431372549,"b":0.5647058823529412},"hsl":{"s":0.5971223021582732,"l":0.7274509803921568,"h":10.120481927710848}},{"value":"#edc5bb","name":"Muddy Rose","rgb":{"r":0.9294117647058824,"g":0.7725490196078432,"b":0.7333333333333333},"hsl":{"s":0.5813953488372093,"l":0.8313725490196078,"h":12.000000000000021}},{"value":"#dbf5dc","name":"Hint of Mint","rgb":{"r":0.8588235294117647,"g":0.9607843137254902,"b":0.8627450980392157},"hsl":{"s":0.5652173913043482,"l":0.9098039215686274,"h":122.30769230769235}}],"name":"Reptile of Mint"},{"colors":[{"value":"#36343f","name":"Professor Plum","rgb":{"r":0.21176470588235294,"g":0.20392156862745098,"b":0.24705882352941178},"hsl":{"s":0.09565217391304352,"l":0.22549019607843138,"h":250.9090909090909}},{"value":"#3e4c69","name":"Bonne Nuit","rgb":{"r":0.24313725490196078,"g":0.2980392156862745,"b":0.4117647058823529},"hsl":{"s":0.25748502994011974,"l":0.32745098039215687,"h":220.46511627906975}},{"value":"#726382","name":"Nymph's Delight","rgb":{"r":0.4470588235294118,"g":0.38823529411764707,"b":0.5098039215686274},"hsl":{"s":0.13537117903930126,"l":0.4490196078431372,"h":269.03225806451616}},{"value":"#c97481","name":"First Love","rgb":{"r":0.788235294117647,"g":0.4549019607843137,"b":0.5058823529411764},"hsl":{"s":0.44041450777202074,"l":0.6215686274509804,"h":350.8235294117647}},{"value":"#ec9699","name":"Pink Floyd","rgb":{"r":0.9254901960784314,"g":0.5882352941176471,"b":0.6},"hsl":{"s":0.6935483870967741,"l":0.7568627450980392,"h":357.90697674418607}},{"value":"#dfc3c7","name":"Perfume Cloud","rgb":{"r":0.8745098039215686,"g":0.7647058823529411,"b":0.7803921568627451},"hsl":{"s":0.30434782608695665,"l":0.8196078431372549,"h":351.4285714285714}}],"name":"Nymph's Love"},{"colors":[{"value":"#f1e9d6","name":"Fusilli","rgb":{"r":0.9450980392156862,"g":0.9137254901960784,"b":0.8392156862745098},"hsl":{"s":0.4909090909090904,"l":0.892156862745098,"h":42.222222222222214}},{"value":"#0f1d30","name":"Trapped Darkness","rgb":{"r":0.058823529411764705,"g":0.11372549019607843,"b":0.18823529411764706},"hsl":{"s":0.5238095238095237,"l":0.12352941176470589,"h":214.54545454545453}},{"value":"#284462","name":"Stay the Night","rgb":{"r":0.1568627450980392,"g":0.26666666666666666,"b":0.3843137254901961},"hsl":{"s":0.42028985507246375,"l":0.2705882352941177,"h":211.0344827586207}},{"value":"#82617c","name":"Sunshone Plum","rgb":{"r":0.5098039215686274,"g":0.3803921568627451,"b":0.48627450980392156},"hsl":{"s":0.14537444933920704,"l":0.44509803921568625,"h":310.9090909090909}},{"value":"#c47080","name":"First Love","rgb":{"r":0.7686274509803922,"g":0.4392156862745098,"b":0.5019607843137255},"hsl":{"s":0.415841584158416,"l":0.603921568627451,"h":348.57142857142856}},{"value":"#bc5b34","name":"Caramel Dream","rgb":{"r":0.7372549019607844,"g":0.3568627450980392,"b":0.20392156862745098},"hsl":{"s":0.5666666666666668,"l":0.47058823529411764,"h":17.205882352941174}},{"value":"#d4a44f","name":"Chipmunk","rgb":{"r":0.8313725490196079,"g":0.6431372549019608,"b":0.30980392156862746},"hsl":{"s":0.6073059360730594,"l":0.5705882352941176,"h":38.34586466165413}},{"value":"#395d54","name":"Iridescent","rgb":{"r":0.2235294117647059,"g":0.36470588235294116,"b":0.32941176470588235},"hsl":{"s":0.23999999999999994,"l":0.29411764705882354,"h":165}}],"name":"Fusilli Darkness"},{"author":"ippsketch","colors":[{"value":"#ebe7e0","name":"Puffy Pillow","rgb":{"r":0.9215686274509803,"g":0.9058823529411765,"b":0.8784313725490196},"hsl":{"s":0.21568627450980352,"l":0.8999999999999999,"h":38.181818181818244}},{"value":"#262626","name":"Nero","rgb":{"r":0.14901960784313725,"g":0.14901960784313725,"b":0.14901960784313725},"hsl":{"s":0,"l":0.14901960784313725}},{"value":"#bc594e","name":"Tandoori","rgb":{"r":0.7372549019607844,"g":0.34901960784313724,"b":0.3058823529411765},"hsl":{"s":0.4508196721311476,"l":0.5215686274509804,"h":5.999999999999994}},{"value":"#bca357","name":"Desert","rgb":{"r":0.7372549019607844,"g":0.6392156862745098,"b":0.3411764705882353},"hsl":{"s":0.4297872340425533,"l":0.5392156862745099,"h":45.14851485148513}},{"value":"#516b9e","name":"Sea of Galilee","rgb":{"r":0.3176470588235294,"g":0.4196078431372549,"b":0.6196078431372549},"hsl":{"s":0.3221757322175733,"l":0.46862745098039216,"h":219.74025974025975}}],"name":"Tandoori Desert"},{"author":"ippsketch","colors":[{"value":"#ebe7e0","name":"Puffy Pillow","rgb":{"r":0.9215686274509803,"g":0.9058823529411765,"b":0.8784313725490196},"hsl":{"s":0.21568627450980352,"l":0.8999999999999999,"h":38.181818181818244}},{"value":"#262626","name":"Nero","rgb":{"r":0.14901960784313725,"g":0.14901960784313725,"b":0.14901960784313725},"hsl":{"s":0,"l":0.14901960784313725}},{"value":"#bc594e","name":"Tandoori","rgb":{"r":0.7372549019607844,"g":0.34901960784313724,"b":0.3058823529411765},"hsl":{"s":0.4508196721311476,"l":0.5215686274509804,"h":5.999999999999994}},{"value":"#bf7e4f","name":"Pheasant","rgb":{"r":0.7490196078431373,"g":0.49411764705882355,"b":0.30980392156862746},"hsl":{"s":0.4666666666666667,"l":0.5294117647058824,"h":25.17857142857143}},{"value":"#bca357","name":"Desert","rgb":{"r":0.7372549019607844,"g":0.6392156862745098,"b":0.3411764705882353},"hsl":{"s":0.4297872340425533,"l":0.5392156862745099,"h":45.14851485148513}},{"value":"#5a844d","name":"Kale","rgb":{"r":0.35294117647058826,"g":0.5176470588235295,"b":0.30196078431372547},"hsl":{"s":0.2631578947368422,"l":0.40980392156862744,"h":105.81818181818181}},{"value":"#467991","name":"Harbour Blue","rgb":{"r":0.27450980392156865,"g":0.4745098039215686,"b":0.5686274509803921},"hsl":{"s":0.34883720930232553,"l":0.4215686274509804,"h":199.20000000000002}},{"value":"#516b9e","name":"Sea of Galilee","rgb":{"r":0.3176470588235294,"g":0.4196078431372549,"b":0.6196078431372549},"hsl":{"s":0.3221757322175733,"l":0.46862745098039216,"h":219.74025974025975}},{"value":"#656198","name":"Scampi","rgb":{"r":0.396078431372549,"g":0.3803921568627451,"b":0.596078431372549},"hsl":{"s":0.2208835341365462,"l":0.48823529411764705,"h":244.36363636363635}}],"name":"Nero Desert"},{"name":"Brutal Tomato","colors":[{"value":"#fe6666","name":"Pompelmo","rgb":{"r":0.996078431372549,"g":0.4,"b":0.4},"hsl":{"s":0.9870129870129869,"l":0.6980392156862745,"h":0}},{"value":"#f6f6f6","name":"White Smoke","rgb":{"r":0.9647058823529412,"g":0.9647058823529412,"b":0.9647058823529412},"hsl":{"s":0,"l":0.9647058823529412}},{"value":"#202125","name":"Noble Black","rgb":{"r":0.12549019607843137,"g":0.12941176470588237,"b":0.1450980392156863},"hsl":{"s":0.07246376811594207,"l":0.13529411764705884,"h":227.99999999999997}}]}]

/**
 * @param {Array} palettes
 * @return {Array} Array of arrays of colors
 */
function flattenPalettes(palettes) {
  return palettes.reduce((acc, palette) => {
    if (palette.hasOwnProperty('palettes')) {
      return acc.concat(flattenPalettes(palette.palettes));
    }
    return acc.concat(palette);
  }, []);
}

let localPalettes = palettes;
let localPalettesFlat = flattenPalettes(localPalettes);

const colorPalettes = {
  palettes: localPalettes,
  palettesFlat: localPalettesFlat,
  get: (nameOrIndex) => {
    if (typeof nameOrIndex === 'number') {
      return localPalettesFlat[nameOrIndex];
    }
    return localPalettesFlat.find((p) => p.name === nameOrIndex);
  },
  random: (nbr) => {
    if (nbr && typeof nbr != 'number' || nbr > 1 || nbr < 0) {
      throw new Error('random() only accepts a number between 0 and 1');
    }

    return localPalettesFlat[
        Math.floor(
            (nbr || Math.random()) * localPalettesFlat.length,
        )
    ];
  },
  addPalettes: (newPalettes) => {
    localPalettes = palettes.concat(newPalettes);
    localPalettesFlat = flattenPalettes(localPalettes);
  },
};

export {colorPalettes};